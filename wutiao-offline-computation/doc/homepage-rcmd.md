## 首页推荐逻辑梳理(2018.06.04)

// 大众热门 --> 过滤删除 --> 冷启动接口
// 大众热门 --> 过滤删除 --> 与机器学习组一起融合 --> 过滤已经阅读过的

## 大众热门部分

计算时间点都是 计算点 - 相应的区间; 近24小时, 就是从昨天同一小时到计算点对应的小时

+ 取出近7天用户浏览最多的资讯 | 视频, 分别形成top N(N 暂定10000)

```bash
itemtype  itemid  total_read
  1         12      100
  1         14      90
  1         15      80
 ....
```

```bash
itemtype  itemid  total_read
  2         18      100
  2         20      90
  2         21      80
 ....
```


+ 取出最近24小时, 分别按资讯 | 视频和汇总 点赞数和评论数形成一个得分(Score = 点赞数 * 0.5 + 评论数 * 0.5)

```bash
itemtype itemid total_like_comment_score
   1       12      30.5
   1       14      20.5
   2       18      14
   2       20      13
```

使用第一份数据对应的itemid, 去第二份数据寻找对应的得分, 没有计0, 最后分别按照资讯 和 视频形成 topN(N 暂定10000)


```bash
itemtype itemid score
   1       12      30.5
   1       14      20.5
```

```bash
itemtype itemid score
2       18      14
2       20      13
```
